<!-- //jgent/src/settingsWebview.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: sans-serif; padding: 1em; }
    input, select { width: 100%; padding: 0.5em; margin: 0.5em 0; }
    button { padding: 0.5em 1em; }
  </style>
</head>
<body>
  <h2>JGent ì„¤ì •</h2>
  <label>ğŸ›°ï¸ Agent API ì£¼ì†Œ</label>
  <input type="text" id="agentApiUrl" />

  <label>ğŸ§  ëª¨ë¸ ì´ë¦„</label>
  <input type="text" id="model" />

  <label>âš™ï¸ ì‹¤í–‰ ëª¨ë“œ</label>
  <select id="defaultMode">
    <option value="auto">Auto</option>
    <option value="chat">Chat</option>
  </select>

  <label>ğŸ”Œ Ollama ì„œë²„ ì£¼ì†Œ</label>
  <input type="text" id="serverUrl" />

  <button onclick="save()">ğŸ’¾ ì €ì¥</button>

  <script>
    const vscode = acquireVsCodeApi();

    window.onload = () => {
      const params = new URLSearchParams(window.location.search);
      document.getElementById('serverUrl').value = params.get('serverUrl') || "";
      document.getElementById('agentApiUrl').value = params.get('agentApiUrl') || "";
      document.getElementById('model').value = params.get('model') || "";
      document.getElementById('defaultMode').value = params.get('defaultMode') || "chat";
    };

    function save() {
      const data = {
        serverUrl: document.getElementById("serverUrl").value,
        agentApiUrl: document.getElementById("agentApiUrl").value,
        model: document.getElementById("model").value,
        defaultMode: document.getElementById("defaultMode").value
      };
      vscode.postMessage({ command: 'saveSettings', data });
    }
  </script>
</body>
</html>
